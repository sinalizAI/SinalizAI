<FeedbackScreen>:
    id: feedback_screen
    MDBoxLayout:
        orientation: 'vertical'
        spacing: dp(0)
        padding: dp(0)
        md_bg_color: 237/255, 241/255, 250/255, 1

        MDBoxLayout:
            size_hint_y: None
            height: dp(40)
            padding: [dp(5), 0, 0, 0]
            
            MDIconButton:
                id: feedback_screen_close_button
                icon: "close"
                theme_text_color: "Custom"
                text_color: 0, 0, 0, 1
                size_hint: None, None
                size: dp(40), dp(40)
                pos_hint: {'center_y': 0.5}
                on_release: root.go_to_back()


        MDScrollView:
            id: feedback_screen_scroll_view
            bar_width: dp(4)
            bar_color: 0.6, 0.7, 0.9, 1
            size_hint_y: 1
            do_scroll_x: False

            MDBoxLayout:
                orientation: 'vertical'
                spacing: dp(5)
                padding: dp(10)
                size_hint_y: None
                height: self.minimum_height

                MDBoxLayout:
                    id: feedback_screen_header_container
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    padding: [dp(5), dp(5), dp(5), 0]
                    pos_hint: {"center_x": 0.5}

                    MDBoxLayout:
                        id: feedback_screen_header_box
                        orientation: 'horizontal'
                        size_hint: None, None
                        size: self.minimum_size
                        spacing: dp(8)
                        pos_hint: {"center_x": 0.5}

                        MDIcon:
                            id: feedback_screen_header_icon
                            icon: "comment-question-outline"
                            size_hint: None, None
                            size: dp(35), dp(35)
                            theme_text_color: "Custom"
                            text_color: 0, 0, 0, 1
                            pos_hint: {"center_y": 0.5}

                        MDLabel:
                            id: feedback_screen_title_label
                            text: "Ajuda"
                            font_size: "24sp"
                            font_name: "views/assets/fonts/Palanquin_Dark/PalanquinDark-Regular.ttf"
                            theme_text_color: "Custom"
                            text_color: 0, 0, 0, 1
                            size_hint: None, None
                            size: self.texture_size
                            halign: 'left'
                            valign: 'center'
                            text_size: None, None
                            pos_hint: {"center_y": 0.5}

                MDLabel:
                    id: feedback_screen_feedback_label
                    text: "Dar Feedback"
                    font_size: "20sp"
                    theme_text_color: "Custom"
                    text_color: 0.72, 0.78, 0.92, 1
                    bold: True
                    font_name: "views/assets/fonts/Palanquin_Dark/PalanquinDark-Regular.ttf"
                    size_hint_y: None
                    height: self.texture_size[1]
                    halign: 'center'

                MDBoxLayout:
                    id: feedback_screen_content_box
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: dp(10)
                    padding: dp(10)
                    pos_hint: {'center_x': 0.5}

                    MDIcon:
                        id: feedback_screen_icon
                        icon: "email-open-heart-outline"
                        size_hint: None, None
                        size: dp(100), dp(100)
                        theme_text_color: "Custom"
                        text_color: 0, 0, 0, 1
                        pos_hint: {'center_x': 0.5}

                    MDLabel:
                        id: feedback_screen_description_label
                        text: "Estamos ansiosos para ouvir suas ideias, dúvidas, elogios ou qualquer questão que queira relatar. Sua opinião faz a diferença!"
                        font_size: "14sp"
                        theme_text_color: "Custom"
                        font: "views/assets/fonts/palanquin/palanquin-regular.ttf"
                        text_color: 0, 0, 0, 1
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: "center"
                        valign: 'center'
                        pos_hint: {"center_x": 0.5}
                        text_size: self.width, None

                    MDLabel:
                        id: feedback_screen_form_label
                        text: "Preencha o formulário eletrônico:"
                        font_size: "14sp"
                        theme_text_color: "Custom"
                        text_color: 0, 0, 0, 1
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: 'left'
                        bold: True

                MDBoxLayout:
                    id: feedback_screen_form_container
                    orientation: 'vertical'
                    size_hint: 1, None
                    height: self.minimum_height
                    spacing: dp(10)

                    MDBoxLayout:
                        id: feedback_screen_subject_container
                        orientation: 'vertical'
                        size_hint: 1, None
                        height: dp(70)
                        spacing: "1dp"

                        MDLabel:
                            id: feedback_screen_subject_label
                            text: "Motivo do Contato*"
                            font_size: "12sp"
                            theme_text_color: "Custom"
                            text_color: 0, 0, 0, 1
                            bold: True
                            font_name: "views/assets/fonts/Palanquin_Dark/PalanquinDark-Regular.ttf"
                            size_hint_y: None
                            height: self.texture_size[1]

                        MDTextField:
                            id: feedback_screen_subject_input
                            hint_text: "Motivo do contato"
                            hint_text_align: "left"
                            font_size: "12sp"
                            mode: "rectangle"
                            line_color_normal: 0.72, 0.78, 0.92, 1
                            line_color_focus: 0.72, 0.78, 0.92, 1
                            size_hint_x: 1
                            height: "40dp"
                            radius: [12, 12, 12, 12]

                    MDBoxLayout:
                        id: feedback_screen_message_container
                        orientation: 'vertical'
                        size_hint: 1, None
                        height: dp(180)
                        spacing: "1dp"

                        MDLabel:
                            id: feedback_screen_message_label
                            text: "Mensagem"
                            font_size: "12sp"
                            theme_text_color: "Custom"
                            text_color: 0, 0, 0, 1
                            bold: True
                            font_name: "views/assets/fonts/Palanquin_Dark/PalanquinDark-Regular.ttf"
                            size_hint_y: None
                            height: self.texture_size[1]

                        MDCard:
                            id: feedback_screen_message_card
                            size_hint: 1, None
                            height: dp(140)
                            elevation: 0
                            md_bg_color: 0.95, 0.95, 0.95, 0.5
                            radius: [12]
                            padding: dp(1)
                            
                            MDScrollView:
                                id: feedback_screen_message_scroll
                                bar_width: dp(4)
                                bar_color: 0.6, 0.7, 0.9, 1
                                
                                TextInput:
                                    id: feedback_screen_input_message
                                    hint_text: "Digite sua mensagem (máx. 1500 caracteres)"
                                    font_size: "12sp"
                                    multiline: True
                                    size_hint_y: None
                                    height: max(self.minimum_height, dp(140))
                                    background_color: 0, 0, 0, 0
                                    foreground_color: 0, 0, 0, 1
                                    padding: dp(10)
                                    cursor_color: 0, 0, 0, 1
                                    cursor_width: "2sp"
                                    write_tab: False

                        MDLabel:
                            id: feedback_screen_counter_label
                            text: "0/1500"
                            font_size: "10sp"
                            theme_text_color: "Custom"
                            text_color: 0.5, 0.5, 0.5, 1
                            size_hint_y: None
                            height: self.texture_size[1]
                            halign: 'right'

                    MDLabel:
                        id: feedback_screen_required_fields_label
                        text: "Campos marcados com (*) são obrigatórios."
                        font_size: "10sp"
                        theme_text_color: "Custom"
                        text_color: 0.5, 0.5, 0.5, 1
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: 'center'

        MDBoxLayout:
            id: feedback_screen_footer
            size_hint_y: None
            height: dp(60)
            padding: [dp(20), dp(10), dp(20), dp(10)]
            md_bg_color: 237/255, 241/255, 250/255, 1

            MDFillRoundFlatButton:
                id: feedback_screen_send_button
                text: "Enviar"
                size_hint_x: 1
                height: "40dp"
                md_bg_color: 0.788, 0.835, 0.941, 1
                font_name: "views/assets/fonts/palanquin/palanquin-regular.ttf"
                theme_text_color: "Custom"
                text_color: 0, 0, 0, 1
                elevation: 4
                radius: [12, 12]
                line_color: 0.6, 0.7, 0.9, 1
